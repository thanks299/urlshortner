<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>URL Shortener</title>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Mono:wght@300;400;500&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <link rel="icon" type="image/x-icon" href="./download.png" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<div class="wrap">

  <header style="position: relative;">
    <div class="logo" style="font-size:42px;letter-spacing:3px">URL SHORTENER</div>
    <div class="header-meta">
      <div class="tagline">URL Shortener</div>
      <div class="pills">
        <span class="pill">Shorten</span><span class="pill">Redirect</span>
        <span class="pill">Analytics</span><span class="pill">Expiry</span>
      </div>
    </div>
    <button onclick="logout()" style="position: absolute; top: 0; right: 0; font-family: 'DM Mono', monospace; font-size: 10px; text-transform: uppercase; letter-spacing: 1.5px; padding: 7px 14px; border: 1px solid var(--border2); background: transparent; color: var(--muted); border-radius: 2px; cursor: pointer; transition: all .15s;">
      Logout
    </button>
  </header>

  <div class="tabs">
    <button class="tab active" onclick="tab('shorten')">Shorten</button>
    <button class="tab"        onclick="tab('dashboard')">Dashboard</button>
    <!-- <button class="tab"        onclick="tab('api')">API Docs</button> -->
  </div>

  <!-- ══ SHORTEN ══ -->
  <div class="panel active" id="p-shorten">
    <div class="card card-top">
      <div class="fg">
        <label class="lbl" for="longUrl">Destination URL <small>http or https only</small></label>
        <input type="url" id="longUrl" placeholder="https://example.com/very/long/path..." autocomplete="off" />
      </div>
      <div class="row2">
        <div>
          <button class="tog" id="t-custom" onclick="tog('t-custom','g-custom')">
            <div class="tog-sw"></div><span class="tog-lbl">Custom short code</span>
          </button>
          <div class="collapse" id="g-custom">
            <label class="lbl" for="customCode">Short code</label>
            <div class="pfx-wrap">
              <span class="pfx">localhost:3000/</span>
              <input type="text" id="customCode" placeholder="my-link" autocomplete="off" />
            </div>
          </div>
        </div>
        <div>
          <button class="tog" id="t-exp" onclick="tog('t-exp','g-exp')">
            <div class="tog-sw"></div><span class="tog-lbl">Set expiry date</span>
          </button>
          <div class="collapse" id="g-exp">
            <label class="lbl" for="expiresAt">Expires at</label>
            <input type="datetime-local" id="expiresAt" />
          </div>
        </div>
      </div>
      <button class="btn-main" id="snipBtn" onclick="shorten()">
        <span id="btnLabel">SHORTEN</span>
      </button>
      <div class="result" id="result">
        <div class="r-tag" id="r-tag"></div>
        <div class="r-url" id="r-url"></div>
        <div class="r-meta" id="r-meta"></div>
        <div class="r-acts" id="r-acts"></div>
      </div>
    </div>
  </div>

  <!-- ══ DASHBOARD ══ -->
  <div class="panel" id="p-dashboard">
    <div class="sh">
      <div class="sh-title">ALL LINKS</div>
      <div style="display:flex;gap:8px">
        <button class="btn-sm" onclick="loadStats()">↻ Refresh</button>
      </div>
    </div>
    <div class="tbl-wrap" id="statsEl">
      <div class="empty"><span class="empty-icon">···</span>Loading…</div>
    </div>
  </div>

  <!-- ══ API DOCS ══
  <div class="panel" id="p-api">
    <div class="card">
      <pre class="api-pre" id="apiPre">Loading…</pre>
    </div>
  </div> -->

  <footer>URL Shortener</footer>
</div>

<script src="script.js"></script>
</body>
</html>
